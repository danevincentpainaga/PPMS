<div id="cover-spin" ng-if="ic.show_spinner" ></div>
<ng-include src="'src/views/header.html'"></ng-include> 
<div>
  <md-toolbar class="md-menu-toolbar" style="border-bottom: 1px solid #c7c7c7;">
    <div layout="row" style="min-height: 64px;">
      <md-toolbar-filler style="display: flex;">
        <md-icon class="material-icons">cloud_upload</md-icon>
      </md-toolbar-filler>
      <h2 class="md-toolbar-tools" style="padding: 20px;">
        <span>Import</span>
      </h2>
    </div>
  </md-toolbar>
  <md-progress-linear md-mode="indeterminate" ng-if="!ic.municipalities_loaded" style="position: absolute;"></md-progress-linear>
  <div layout="column" layout-xs="column" style="background-color: #fff; padding: 5px;">
    <div flex style="overflow: auto;border: 1px solid #b0b1b3;min-height: 480px;"  ng-if="!ic.hasImported">
      <div layout="row" layout-padding layout-wrap layout-fill style="padding-bottom: 32px;" ng-cloak>

        <md-whiteframe class="md-whiteframe-1dp" layout-padding flex-sm="15" flex-gt-sm="15" flex-gt-md="15" layout layout-align="center center" style="margin:7px;border-left: 2px solid #37d21e;cursor: pointer;" ng-repeat="mun in ic.municipalities" ng-click="ic.selectMunicipalities(mun.municipality)">
          <span>{{ mun.municipality }}</span>
        </md-whiteframe>
        
      </div>
    </div>
    <div ng-if="ic.hasImported">
      <button ng-click="ic.importToDatabase()">Import to database</button>
      <p>Selected: </p>
      <label>{{ ic.checking_in }}</label>
      <br />
      <label>{{ic.progress_value}}%</label>
      <md-progress-linear md-mode="determinate" value="{{ic.progress_value}}"></md-progress-linear>
      <button ng-click="ic.checkImportedScholars()">Check</button>
      <input type="file" accept=".xls,.xlsx,.ods" fileread="" opts="ic.gridOptions" multiple="false" />
      <div ui-grid="ic.gridOptions" ui-grid-resize-columns ui-grid-importer ui-grid-exporter class="grid" ng-if="ic.hasImported"></div>
    </div>
</div>