<ng-include src="'/header.html'"></ng-include> 
<div style="font-size: 14px;" class="fading">
  <md-toolbar class="md-menu-toolbar">
    <div layout="row">
      <md-toolbar-filler style="display: flex;">
        <md-icon class="material-icons">school</md-icon>
      </md-toolbar-filler>
      <div>
        <h2 class="md-toolbar-tools">Masteral/Doctorate</h2>
        <md-menu-bar>
          <md-menu>
            <button ng-click="$mdMenu.open()">
              File
            </button>
            <md-menu-content>
              <md-menu-item class="md-indent">
                <md-icon class="material-icons">save</md-icon>
                <md-button ng-click="md.saveNewMasterDoctorateDetails()" ng-disabled="!md.scholar_details.$valid || md.saving">
                  {{ md.saving ? 'Saving...' : 'Save' }}
                </md-button>
              </md-menu-item>
              <md-menu-item class="md-indent">
                <md-icon class="material-icons">clear_all</md-icon>
                <md-button ng-click="md.clear()" ng-disabled="md.saving">
                  Clear
                </md-button>
              </md-menu-item>
            </md-menu-content>
          </md-menu>
          <md-menu>
            <button ng-click="$mdMenu.open()">
              View
            </button>
            <md-menu-content>
              <md-menu-item class="md-indent">
                <md-icon class="material-icons">{{ md.isFullScreened ? 'fullscreen_exit' : 'fullscreen' }}</md-icon>
                <md-button ng-click="md.fullScreen()">
                  {{ md.isFullScreened ? 'Exit Full screen' : 'Full screen' }}
                </md-button>
              </md-menu-item>
              <md-menu-item class="md-indent" ng-if="md.isMobile">
                <md-icon class="material-icons">{{md.displayview == true? 'view_list' : 'add_to_drive'}}</md-icon>
                <md-button ng-click="md.changeView()">
                  {{md.displayview == true? 'List view' : 'Add view'}}
                </md-button>
              </md-menu-item>
            </md-menu-content>
          </md-menu>
        </md-menu-bar>
      </div>
    </div>
  </md-toolbar>
  <div layout="column">
    <section layout="row" layout-xs="column" layout-gt-xs="column" layout-gt-sm="row">
      <div layout="row" layout-xs="column" class="scholar-md-list">
        <md-content flex layout-padding>
          <md-list flex>
            <md-input-container class="md-container">
              <label>Search</label>
              <input type="text" ng-model="md.scholar_lastname">
            </md-input-container>
            <md-subheader class="md-no-sticky">Masteral/Doctorate list</md-subheader>
            <div class="added-scholar-list" ng-style="resizeList()"  resize-md-list  when-scrolled="md.loadmore()">
              <md-list-item class="md-2-line" ng-repeat="scholar in md.scholars track by $index" ng-if="md.scholars_loaded">
                <img ng-src="{{ scholar.photo | checkScholarPhoto }}" class="md-avatar scholar-image" alt="" />
                <div class="md-list-item-text" style="max-width: 210px;">
                  <h4 style="margin: 0px;color: black;">{{scholar.lastname}},&nbsp;{{scholar.firstname}}&nbsp;{{scholar.middlename}}.</h4>
                  <p>{{ scholar.school.school_name }} - {{ scholar.degree }}</p>
                </div>
                <span ng-if="$index===md.selectedIndex" style="margin: 7px 0px;">opening..</span>
                <md-menu ng-if="$index!==md.selectedIndex">
                  <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdMenu.open($event)" style="padding: 0px;margin: 0;">
                    <md-icon class="material-icons" >more_horiz</md-icon>
                  </md-button>
                  <md-menu-content width="2">
                    <md-menu-item>
                      <md-button ng-click="md.edit(scholar)">
                        Edit
                      </md-button>
                    </md-menu-item>
                    <md-menu-item>
                      <md-button ng-click="md.print(scholar, $index)">
                        Print
                      </md-button>
                    </md-menu-item>
                  </md-menu-content>
                </md-menu>
              </md-list-item>
              <div ng-if="!md.hide_load_more" style="text-align: center;font-size: 13px;">
                <md-button class="md-hue-2" ng-click="md.loadmore()">Load more</md-button>
              </div>
              <div layout="row" layout-sm="column" layout-align="space-around" style="margin-top: 10px;" ng-if="md.load_busy">
                <md-progress-circular md-diameter="25px"></md-progress-circular>
              </div>
            </div>
          </md-list>
        </md-content>
      </div>
      <div flex style="background: #efefef; overflow-y: auto;border-top: 1px solid #c7c7c7;padding: 10px;" ng-style="resizeDiv()" resize-div height="145">
      <form name="md.scholar_details" class="uppercase">
        <div class="fading-up">
          <md-card style="margin: 0px;">
            <md-card-header style="padding: 22px 25px 0px;">
              <md-card-avatar>
                <md-icon class="material-icons" style="margin-right: 15px; background-color: #616dc3;">school</md-icon>
              </md-card-avatar>
              <md-card-header-text>
                <span class="md-title">Details</span>
                <span class="md-subhead">Masteral/Doctorate</span>
              </md-card-header-text>
              <md-card-header-text hide-gt-md style="text-align: right;">
                <span class="md-subhead" style="color: #008300;">AY - {{ md.academic_year }}</span>
                <span class="md-subhead">{{ md.semester }}</span> 
              </md-card-header-text>
              <md-card-header-text flex="40" hide show-gt-md>
                <div layout="row">
                  <div flex style="display: flex;justify-content: flex-end;">
                    <md-input-container flex style="margin-bottom: 0px;">
                      <label>Select degree</label>
                      <md-select ng-model="md.degree" ng-change="md.selectedDegree()">
                        <md-option ng-value="deg" ng-repeat="deg in md.degrees"><em>{{ deg }}</em></md-option>
                      </md-select>
                    </md-input-container>
                  </div>
                  <div flex="35" style="display: flex;justify-content: flex-end;">
                    <div layout="column"style="text-align: right;">
                      <span class="md-subhead" style="color: #008300;">AY - {{ md.academic_year }}</span>
                      <span class="md-subhead">{{ md.semester }}</span> 
                    </div>
                  </div>
                </div>
              </md-card-header-text>
            </md-card-header>
            <md-card-content style="padding: 0px 30px;" >
                <div layout-xs="column" layout-gt-xs="column" layout-gt-sm="column" layout-gt-md="row" hide-gt-md>
                  <md-input-container flex>
                    <label>Select degree</label>
                    <md-select ng-model="md.degree" ng-change="md.selectedDegree()">
                      <md-option value="Masters"><em>Masters</em></md-option>
                      <md-option value="Doctorate"><em>Doctorate</em></md-option>
                    </md-select>
                  </md-input-container>
                </div>
                <div layout-xs="column" layout-gt-xs="column" layout-gt-sm="column" layout-gt-md="row">
                    <md-input-container flex>
                      <label>Firstname</label>
                      <input type="text" ng-model="md.firstname" ng-disabled="!md.degree_has_selected" accept-only-letters required>
                    </md-input-container>
                    <md-input-container flex>
                      <label>Middlename</label>
                      <input ng-model="md.middlename" ng-disabled="!md.degree_has_selected" accept-only-letters>
                    </md-input-container>
                    <md-input-container flex>
                      <label>Lastname</label>
                      <input ng-model="md.lastname" ng-disabled="!md.degree_has_selected" accept-only-letters required>
                    </md-input-container>
                    <md-input-container flex-gt-md="7">
                      <label>Suffix</label>
                      <md-select ng-model="md.suffix" required>
                        <md-option value="NONE">NONE</md-option>
                        <md-option ng-repeat="suff in md.suffix_list" ng-value="suff.suffix"><em>{{suff.suffix}}</em></md-option>
                      </md-select>
                    </md-input-container>
                </div>
                <div layout-xs="column" layout-gt-xs="column" layout-gt-sm="column" layout-gt-md="row">
                  <div style="display: flex;width: 100%;position: relative;">
                    <md-autocomplete flex
                      md-input-name="autocompleteAddress"
                      md-input-minlength="1"
                      md-no-cache="md.noCache"
                      md-selected-item="md.fulladdress"
                      md-search-text="md.search_address"
                      md-delay="500"
                      md-selected-item-change="md.selectedAddressChange(address)"
                      md-items="address in md.addressSearchQuery(md.search_address)"
                      md-item-text="address.fulladdress"
                      md-autoselect="true"
                      md-escape-options="clear"
                      md-require-match=""
                      md-floating-label="Address"
                      ng-trim="true"
                      ng-disabled="!md.degree_has_selected"
                      required>
                      <md-item-template>
                        <span md-highlight-text="md.search_address" md-highlight-flags="^i">{{address.fulladdress}}</span>
                      </md-item-template>
                      <md-not-found>
                        No address matching "{{md.search_address}}" were found.
                      </md-not-found>
                    </md-autocomplete>
                  </div>
                  <md-input-container flex-xs="100" flex-sm="100" flex-gt-md="20">
                    <label>Date of Birth</label>
                    <input type="text" name="date_of_birth" ng-model="md.date_of_birth" ng-change="md.selectedDateOfBirth(md.date_of_birth)" minlength="10"add-double-slashes-directive ng-disabled="!md.degree_has_selected" autocomplete="off" required/>
                  </md-input-container>
                  <md-input-container flex-xs="100" flex-sm="100" flex-gt-md="10">
                    <label>Age</label>
                    <input type="text" ng-model="md.displayedAge" disabled>
                  </md-input-container>
                  <md-input-container flex-xs="100" flex-sm="100" flex-gt-md="20">
                    <label>Gender</label>
                    <md-select ng-model="md.gender" ng-disabled="!md.degree_has_selected" required>
                      <md-option value="Male"><em>Male</em></md-option>
                      <md-option value="Female"><em>Female</em></md-option>
                    </md-select>
                  </md-input-container>
                </div>
                <div layout-xs="column" layout-gt-xs="column" layout-gt-sm="column" layout-gt-md="row">
                  <md-input-container flex-xs="100" flex-sm="100" flex-gt-md="15" style="padding-right:10px">
                    <label>Civil status</label>
                    <md-select ng-model="md.civil_status" required ng-disabled="!md.degree_has_selected">
                      <md-option ng-repeat="civil_status in md.civil_status_list" ng-value="civil_status"><em>{{ civil_status }}</em></md-option>
                    </md-select>
                  </md-input-container>
                  <md-autocomplete flex
                    md-input-name="autocompleteSchool"
                    md-input-minlength="1"
                    md-no-cache="md.noCache"
                    md-selected-item="md.school"
                    md-search-text="md.search_school"
                    md-delay="300"
                    md-selected-item-change="md.selectedSchoolChange(school)"
                    md-items="school in md.schoolSearchQuery(md.search_school)"
                    md-item-text="school.school_name"
                    md-autoselect="true"
                    md-escape-options="clear"
                    md-require-match=""
                    md-floating-label="School"
                    ng-trim="true"
                    ng-disabled="!md.degree_has_selected"
                    required>
                    <md-item-template>
                      <span md-highlight-text="md.search_school" md-highlight-flags="^i">{{school.school_name}}</span>
                    </md-item-template>
                    <md-not-found>
                      No states matching "{{md.search_school}}" were found.
                    </md-not-found>
                  </md-autocomplete>
                  <md-autocomplete flex
                    md-input-name="autocompleteCourse"
                    md-input-minlength="1"
                    md-no-cache="md.noCache"
                    md-selected-item="md.course"
                    md-search-text="md.search_course"
                    md-delay="300"
                    md-selected-item-change="md.selectedCourseChange(course)"
                    md-items="course in md.courseSearchQuery(md.search_course)"
                    md-item-text="course.course"
                    md-autoselect="true"
                    md-escape-options="clear"
                    md-require-match=""
                    md-floating-label="Course"
                    ng-trim="true"
                    ng-disabled="!md.degree_has_selected"
                    required>
                    <md-item-template>
                      <span md-highlight-text="md.search_course" md-highlight-flags="^i">{{course.course}}</span>
                    </md-item-template>
                    <md-not-found>
                      No address matching "{{md.search_course}}" were found.
                    </md-not-found>
                  </md-autocomplete>
                </div>
                <div layout-xs="column" layout-gt-xs="column" layout-gt-sm="column" layout-gt-md="row">
                  <md-input-container flex>
                    <label>Year level.</label>
                    <md-select ng-model="md.year_level" ng-disabled="!md.degree_has_selected" required>
                      <md-option ng-repeat="yl in md.year_levels" ng-value="yl.value"><em>{{ yl.display }}</em></md-option>
                    </md-select>
                  </md-input-container>
                  <md-input-container flex-xs="100" flex-sm="100" flex-gt-md="30">
                    <label>section</label>
                    <input ng-model="md.section" ng-disabled="!md.degree_has_selected" required>
                  </md-input-container>
                  <md-input-container flex-xs="100" flex-sm="100" flex-gt-md="30">
                    <label>ID NO.</label>
                    <input type="text" ng-model="md.student_id_number" ng-disabled="!md.degree_has_selected" required>
                  </md-input-container>
                  <md-input-container flex-xs="100" flex-sm="100" flex-gt-md="10">
                    <label>IP.</label>
                    <md-select ng-model="md.IP" ng-disabled="!md.degree_has_selected" required>
                      <md-option value="YES"><em>YES</em></md-option>
                      <md-option value="NO"><em>NO</em></md-option>
                    </md-select>
                  </md-input-container>
                </div>
            </md-card-content>
          </md-card>
          <md-card style="margin: 5px 0px;">
            <md-card-content style="padding: 20px 25px 0px;">
              <p>Father's Details</p>
              <div layout-xs="column" layout-gt-xs="column" layout-gt-sm="column" layout-gt-md="row">
                <md-autocomplete flex
                  md-input-name="autocompleteFatherLastname"
                  md-input-minlength="2"
                  md-no-cache="md.noCache"
                  md-selected-item="md.father"
                  md-search-text="md.search_flastname"
                  md-delay="300"
                  md-selected-item-change="md.selectedFatherDetailsChange(fdetails)"
                  md-items="fdetails in md.fatherSearchQuery(md.search_flastname)"
                  md-item-text="fdetails.lastname"
                  md-autoselect="true"
                  md-escape-options="clear"
                  md-floating-label="Lastname"
                  accept-only-letters
                  ng-disabled="!md.degree_has_selected">
                  <md-item-template>
                    <span md-highlight-text="md.search_flastname">{{fdetails.lastname}}, {{fdetails.firstname}} {{fdetails.middlename}}</span>
                  </md-item-template>
                  <md-not-found>
                    No records matching "{{md.search_flastname}}" were found.
                  </md-not-found>
                </md-autocomplete>
                <md-input-container flex>
                  <label>Firstname</label>
                  <input type="text" ng-model="md.f_firstname" ng-disabled="!md.degree_has_selected" accept-only-letters>
                </md-input-container>
                <md-input-container flex>
                  <label>Middlename</label>
                  <input type="text" ng-model="md.f_middlename" ng-disabled="!md.degree_has_selected">
                </md-input-container>
                <md-input-container flex-gt-md="7">
                  <label>Suffix</label>
                  <md-select ng-model="md.father_suffix" required>
                    <md-option value="NONE">NONE</md-option>
                    <md-option ng-repeat="suff in md.suffix_list" ng-value="suff.suffix"><em>{{suff.suffix}}</em></md-option>
                  </md-select>
                </md-input-container>
              </div>    
              <p>Mother's Details</p>
              <div layout-xs="column" layout-gt-xs="column" layout-gt-sm="column" layout-gt-md="row">
                <md-autocomplete flex
                  md-input-name="autocompleteMotherLastname"
                  md-input-minlength="2"
                  md-no-cache="md.noCache"
                  md-selected-item="md.mother"
                  md-search-text="md.search_maidenname"
                  md-delay="300"
                  md-selected-item-change="md.selectedMotherDetailsChange(mdetails)"
                  md-items="mdetails in md.motherSearchQuery(md.search_maidenname)"
                  md-item-text="mdetails.maiden_name"
                  md-autoselect="true"
                  md-escape-options="clear"
                  md-floating-label="Maiden name"
                  accept-only-letters
                  ng-disabled="!md.degree_has_selected"
                  required>
                  <md-item-template>
                    <span md-highlight-text="md.search_maidenname">{{mdetails.maiden_name}}, {{mdetails.firstname}} {{mdetails.middlename}}</span>
                  </md-item-template>
                  <md-not-found>
                    No records matching "{{md.search_school}}" were found.
                  </md-not-found>
                </md-autocomplete>
                <md-input-container flex>
                  <label>Firstname</label>
                  <input type="text" ng-model="md.m_firstname" ng-disabled="!md.degree_has_selected" accept-only-letters required>
                </md-input-container>
                <md-input-container flex>
                  <label>Middlename</label>
                  <input type="text" ng-model="md.m_middlename" ng-disabled="!md.degree_has_selected">
                </md-input-container>
              </div>
            </md-card-content>
            <div style="width: 100%;text-align: right;padding-bottom: 10px;">
              <md-button class="md-raised md-primary" ng-click="md.saveNewMasterDoctorateDetails()" ng-disabled="!md.scholar_details.$valid || md.saving">{{ md.saving ? 'Saving...' : 'Save' }}</md-button>
              <md-button class="md-raised" ng-click="md.clear()" ng-disabled="md.saving">Clear</md-button>
            </div>
          </md-card>  
        </div>
        </form>
      </div>
    </section>
  </div>
</div>
<edit-scholar scholar="md.scholar_to_edit"></edit-scholar>